<!DOCTYPE html>
<html>

<head>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js"></script>
</head>

<body>


    <div class="container">
        <h3>Total Following : <strong class="instagram"></strong></h3>
    </div>
    <div class="container">
        <h3>Total Followers : <strong class="followers"></strong></h3>
    </div>

   <div class="container">
        <h3>History of Likes: <strong class="likeHistory"></strong></h3>
    </div>

 <script type="text/javascript">

 	var token = "262002496.1677ed0.5cd6baeee9f84ec9984b7e4b43b58c3a"

$.ajax({
    url: 'https://api.instagram.com/v1/users/self',
    type: 'GET',
    data: {
        access_token: token
    },
    success: function(data) {
        var following = data['data']['counts']['follows'];
        var followers = data['data']['counts']['followed_by'];
        $(".instagram").text(following);
        $(".followers").text(followers);

        console.log(following);
        console.log(followers);
    },
    error: function(data) {
        console.log("build fail");
    }
})

$.ajax({
	url:'https://api.instagram.com/v1/users/self/media/recent',
	type: 'GET',
	data: {
		access_token: token
	},
	success: function(data) {
		var likeDataSet = [];
		var recentLikes = data['data'];
		for(const post of recentLikes) {
			likeDataSet.push(post.likes.count);
			console.log(post.likes.count);
		}
		$(".likeHistory").text(likeDataSet);
	}
})

 </script>

</body>
</html>
